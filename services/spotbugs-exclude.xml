<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!--
    False-positive: indexesToReturn field is NOT read in an uninitialized state by the superclass
    constructor, b/c the getNext call doesn't get invoked  (i.e., getNext boolean arg is set
    to false by the subclass constructor)
    -->
    <Match>
        <Class name="datawave.util.StringUtils$SubSplitIterable" />
        <Field name="indexesToReturn" />
        <Bug pattern="UR_UNINIT_READ_CALLED_FROM_SUPER_CONSTRUCTOR" />
    </Match>

    <!--
    This should be opened up for debate, but for now all DM_DEFAULT_ENCODING
    occurrences are being excluded due to the large number of hits.

    The debate includes, but is not limited to, A) modifying code to use a specific
    charset, e.g.,'StandardCharsets.UTF_8', for *every* flagged method/constructor
    invocation, or B) overriding the local default encoding via JVM system property
    instead, which requires zero code, e.g.,

       java -Dfile.encoding="UTF-8" ...

    However, there are caveats with overriding in this manner. See the following
    for background...

       https://bugs.openjdk.java.net/browse/JDK-8187041
       https://www.baeldung.com/java-char-encoding
    -->
    <Match>
        <Bug pattern="DM_DEFAULT_ENCODING" />
    </Match>

    <!--
      False-positive: equals method "checks for operand being a IpV6Address/IpV4Address".
      We perform type conversion, as necessary, to test ipv6/ipv4 address equivalence
    -->
    <Match>
        <Class name="~datawave\.data\.type\.util\.IpV.Address" />
        <Method name="equals" />
        <Bug pattern="EQ_CHECK_FOR_OPERAND_NOT_COMPATIBLE_WITH_THIS" />
    </Match>

    <!--
      False-positive: In this case, removing the method call(s) would definitely break the software.
      The "missing" side effect observed by spotbugs in our StatusCache.delete(String) method occurs
      outside the scope of spotbugs analysis, i.e., it occurs @runtime in spring-managed cache
    -->
    <Match>
        <Class name="datawave.microservice.audit.replay.ReplayController" />
        <Bug pattern="RV_RETURN_VALUE_IGNORED_NO_SIDE_EFFECT" />
    </Match>

    <!--
    Auto-generated protobuf class
    -->
    <Match>
        <Class name="~datawave\.metadata\.protobuf\.EdgeMetadata.*" />
    </Match>

</FindBugsFilter>
